---
import Layout from '../layouts/Layout.astro';
import Input from '../components/Input.astro';
import Output from '../components/Output.astro';
import Button from '../components/Button.astro';
---

<Layout>
	<Input />
	<div class='h-12'></div>
	<Output />
	<Button>Test</Button>
	<Button id='auth-spotify'>Auth Spotify</Button>
</Layout>

<script>
	import { requestUserAuth, getProfile } from '../utils/spotify.ts';

	const button = document.querySelector('#auth-spotify')!;
	button.addEventListener('click', async () => {
		await requestUserAuth();
		const data = await getProfile();
		console.log(data);
	});
</script>
